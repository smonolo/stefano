<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Stefano</title>
        <link rel="stylesheet" type="text/css" href="../_assets/css/global.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    </head>
    <body>
        <div class="title">Under development</div>
        <div class="subtitle">This app is still under development and will be released soon.</div>
        <div style="text-align: center;">
            <button class="button" id="button" onclick="requestIndex();">Request</button>
        </div>
    </body>
    <script>
        function requestIndex() {
            const button = $('#button');

            button.html('Requesting')
                .attr('disabled', true)
                .addClass('disabled');

            setTimeout(() => {
                $.ajax({
                    url: 'http://localhost:2345/',
                    method: 'GET'
                }).done(() => {
                    setTimeout(() => {
                        button.html('Request')
                            .attr('disabled', false)
                            .removeClass('success');
                    }, 2000);

                    button.html('Success')
                        .attr('disabled', true)
                        .addClass('success')
                        .removeClass('disabled');
                }).fail(() => {
                    setTimeout(() => {
                        button.html('Request')
                            .attr('disabled', false)
                            .removeClass('error');
                    }, 2000);

                    button.html('Error')
                        .attr('disabled', true)
                        .addClass('error')
                        .removeClass('disabled');
                });
            }, 1000);
        }
    </script>
</html>